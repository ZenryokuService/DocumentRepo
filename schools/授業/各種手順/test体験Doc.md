**[本日の体験メニューについて]{.ul}**

プログラミング言語のJavaを使って、絵を描きます。

そして、書いた絵をアニメーションにします。

まず、今日のプログラミングに使うソフトについてです。

![](media/image1.png){width="0.8833333333333333in"
height="0.6625in"}　をダブルクリックしてソフトを起動します。

これは、**Eclipse(エクリプス)**という名前のソフトウェアで、無料で公開されています。

実際に授業でも使用しているソフトで、Javaをはじめ、色々なプログラミング言語に対応しています。

もともとは英語のソフトですが、日本語化され、統合開発環境としていろいろな機能が追加されたものは**Pleiades(プレアデス)**という名前で同じく無料で公開されています。

★入力のポイント★

□範囲を選択してコピー　⇒　**ctrlキー**と**c　**を同時に押す

□コピーしたものを貼り付ける　⇒　**ctrlキー**と**ｖ　**を同時に押す

□ファイルを上書き保存する　⇒　**ctrlキー**と**ｓ　**を同時に押す

★気を付ける事★

プログラミングをする際には、いくつか入力の決まりがあります。

・行の最後にある
「**；**」　**セミコロン**は文章の終わりという意味があります。

・基本的に、半角英数字での入力になります。

・アルファベットの大文字と小文字は別物として扱います。

●画面について説明します。

![](media/image2.png){width="6.272916666666666in"
height="2.441666666666667in"}

左側の画面のStartと体験を使います。

一度、Startを選んで、マウスの右をクリックして「実行」⇒「Javaアプリケーション」を選んでみてください。

![](media/image3.png){width="6.267361111111111in"
height="1.7208333333333334in"}

【Tips①：Start.javaの解説】

Start.javaにはメインメソッドというメソッドが書かれています。このメソッドはJavaプログラムの最も重要なもので、**Javaを動かすときには必ずこのメソッドが動きます**。

Javaのエンジニアはこのメソッドを丸暗記しています。

※書いているうちに覚えてしまった、というのが実情ですが。。。

実行すると、絵が表示されます。処理内容は、以下の、体験.javaに書かれています。

![](media/image4.png){width="6.2555555555555555in"
height="2.232638888888889in"}

●実際に体験.Javaの内容について確認してみましょう。

＜書かれているコード＞

setColor(255,0,0);

fillOval(10,30,100,50);

**fillOval(①,②,③,④);　　**は丸を描く命令です

**fillOval(①,②,③,④);で書き出しの座標、幅、高さを指定します。**

①X座標　②Y座標　③横幅　④高さ

ただし、X座標とY座標は指定の注意があります。

まず、画面の「ふち」も座標に含まれてしまいます。

![](media/image5.png){width="2.558333333333333in"
height="1.2673611111111112in"}

上の様に表示するためには、以下のようにする必要があります。

fillOval(10,30,100,50);　　

x座標の10は左の★の部分の**ふち**を考慮した位置です。

y座標の30は上の◆の部分の**ふち**を考慮した位置です。

他の図形も、同じように**ふち**を考えて設定する必要があります。

★練習★

今は楕円が描かれていますが、きれいな円に変更して描いてみましょう。

**fillRect(30,180,90,30);** は四角形を描く命令です

**fillOval(①,②,③,④);で書き出しの座標、幅、高さを指定します。**

①X座標　②Y座標　③横幅　④高さ

★練習★

今は長方形が描かれていますが、正方形に変更して描いてみましょう。

**fillPolygon(x, y, w);　** は多角形を描く命令です

int x \[\]={x1,x2,x3};

int y\[\]={y1,y2,y3};

int w = 3;

fillPolygon(x, y, w);

頂点の座標を指定します。

(x1,y1) (x2,y2) (x3,y3)の要領で指定します。

int w = 3;　の　3は、頂点の数を指定します。

4行セットで、1つの図形を描く命令になります。

練習です。

今は三角形が描かれていますが、五角形に変更して描いてみましょう。

**setColor（①,②,③);　**は色を指定する命令です。

> setColor（①,②,③)　での３つの色を指定することで、色々な色を指定できます。
>
> ①は赤、②は緑、③は青を表現します。

setColor(255,0,0);　これは赤を表現します。

各図形を描く前で色の指定をすることで、色を変更することができます。

> 色と数字の関係については、googleで「RGB」のキーワードで検索すると、検索結果に出てくる「RGBと16進数カラーコードの相互変換ツール
> - PEKO
> STEP」というWebページで確認することができますので、参考にしてみてください。

★練習★

今まで書いた図形を、自分で好きな色に変更してみましょう。

●次は、図形を動かす、アニメーションを作ります。

★練習★

以下の内容を入力して実行してみましょう。

**fillOval(10,30,50,50);**

**fillOval(30,50,50,50);**

**fillOval(50,70,50,50);**

**fillOval(70,90,50,50);**

**fillOval(90,110,50,50);**

**fillOval(110,130,50,50);**

アニメーションの原理は、パラパラ漫画です。

![](media/image6.png){width="1.0208333333333333in"
height="1.1666666666666667in"}　⇒　![](media/image7.png){width="1.0208333333333333in"
height="1.1666666666666667in"}　⇒　![](media/image8.png){width="1.0208333333333333in"
height="1.1666666666666667in"}　⇒　![](media/image9.png){width="1.0208333333333333in"
height="1.1666666666666667in"}

Javaで絵を描くときには、

描く　⇒　**全部消す**　⇒　描く　⇒　**全部消す**　・・・

を繰り返して実施することで、アニメーションを表示します。

今は、描くだけを実施したので、絵が重なってしまいました。

★練習★

**fillOvalとfillOvalの間の行にclear();　**を入れてみましょう。

パソコンの処理は速いので、描いて消すだけでは、目に見えない速さになってしまいます

描く　⇒　**少し待つ**　⇒　全部消す　⇒　描く　⇒　**少し待つ**　⇒　全部消す　・・

「少し待つ」を入れることで、パラパラ漫画のようになります。

★練習★

以下のように、fillOvalとClearの間にsleepを入れてみましょう。

fillOval～

**sleep(0.1);**

> clear();　

**sleep(0.1);　**のところの　0.1　は**0.1秒止める**という意味です。

★練習★

数字を変更して、表示速度を変えてみましょう。

●「100個fillOvalを描く」と考えると、**めんどくさい！**と感じると思います。

　プログラミングでは、**繰り返し処理**というものが使えます。

★練習★

以下を入力してみましょう。

**for(int i=0;i\<30;i++){**

**fillOval(10+i\*10,30+i\*10,50,50);**

**sleep(0.1);**

**clear();**

**}**

この処理内容は以下です。

iを0～30より小さくなるまで、繰り返す

fillOvalのx座標を10＋i×10とし、ｙ座標を30＋i×10として円を描く

表示を待つ

一度すべて消す

｛　から　｝　の間を、今回は、30回繰り返すという意味のプログラムを書きました。

これを手作業ですると、fillovalと、sleepと、clearの行を30セット書いて、

しかも座標を１つ1つ手直ししなければなりません。

今回は、座標を変えましたが、数字なら何でも変えられます。

色も、大きさも数字なので、同じようにforを使って変更することができます。

●画面の中の適当な場所に大量の水玉模様を描いてみましょう。

forを２つ使って描くことができます。

★練習★

以下を入力してみましょう。

**for(int i=0;i\<30;i++){**

**for(int j=0;j\<30;j++){**

**fillOval(10+i\*20,30+j\*20,10,10);**

**}**

**}**

大量に水玉が表示されますが、規則的になってしまっています。

不規則にしたい⇒ランダムに表示する命令が使えます。

★練習★

以下を入力してみましょう。

**for(int i=0;i\<100;i++){**

**int rx = new java.util.Random().nextInt(500);**

**int ry = new java.util.Random().nextInt(500);**

**fillOval(10+rx,30+ry,10,10);**

**}**

乱数という、数字をランダムに発生させるプログラムです。

**nextInt(500);　**　の　500　の数字の意味は、

0～499までの500の数字の中からランダムな数字を取得するという処理をしています。

では、オリジナルの絵を描いて、動かしてみましょう！

１マスを10の大きさと考えて書くと、描きやすくなりますよ。

また、外枠の大きさを考えなければならないので、

ｘ座標は10から、y座標は30までは、画面の外になるので注意です。

　なお、画面の大きさは500×500の大きさがあります。

![](media/image10.emf){width="6.26875in" height="6.649632545931759in"}

絵がかけたら、動かしてみましょう！

以上で本日の体験は終了です。

お疲れ様でした！
