# データベース
コンピュータでデータを扱う方法として、ファイルを利用する方法と、データベースを利用する方法があります。
データベースは、データを一括管理する方式(アプリケーション)のことです。

## データベースとファイルの違い
データ項目の重複がある。
> ファイルでデータを管理すと、項目Aを2つのファイルに持たせた場合項目Aを重複させないと関連がわからなくなる。

## データベースの設計
データモデルとは、データをモデル化したもの。
モデル化とは、いろんな場所で使用される言葉だが、データのモデル化とはシンプルにまとまりをつけるということ。

### モデル化の例
学校の生徒をデータモデル化することを感が増す。
1. 学生には本人の情報として、氏名、年齢、住所、電話番号があります。
2. 学生には学校の成績として、国語、数学、英語、理科、社会の生成器があります。
3. 学生には学校内の活動として部活動があり、委員会がありますが、すべての学生が活動に参加する必要はありません。

まずは、上のような前提条件があったとします。

この時に、データ(モデル)として下のような表(モデル)ができます。

|学生氏名|学生年齢|学生住所|学生電話番号|
| ------ | ----- | ----- | --------- |
|一抹太郎 | 15  | 北海道1番地 | 01234 |
|二審次郎 | 16  | 北海道2番地 | 11234 |
|三振三郎 | 17  | 北海道3番地 | 21234 |
|四面史郎 | 18  | 北海道4番地 | 31234 |

しかし、このモデルでは、上記の1番しか満たすことができません。

なので次は、成績のデータをモデル化します。


|学生氏名|国語|数学|英語|理科|社会|
| ------- | --- | -- | -- | -- | -- |
| 一抹太郎 | 15  | 20 | 30 | 40 | 50 |
|二審次郎 | 16  | 20 | 30 | 40 | 50 |
|三振三郎 | 17  | 20 | 30 | 40 | 50 |
|四面史郎 | 18  | 20 | 30 | 40 | 50 |


これで、1番と2番の要件を満たすことができそうです。
しかし、これではデータが別々で関連付けることができません、なので「学籍番号」を追加します。
そして、各モデル(表)に名前を付けます。「＜＞」の中身が表の名前です。そしてテーブル名がついたので、重複する文字を削除してしまいます。テーブル名を見れば人間は理解できるからです。

＜学生テーブル(表)＞

|学籍番号|氏名|年齢|住所|電話番号|
| ----- | ------ | ----- | ----- | --------- |
|001|一抹太郎 | 15  | 北海道1番地 | 01234 |
|002|二審次郎 | 16  | 北海道2番地 | 11234 |
|003|三振三郎 | 17  | 北海道3番地 | 21234 |
|004|四面史郎 | 18  | 北海道4番地 | 31234 |

＜成績テーブル(表)＞

|学籍番号|学生氏名|国語|数学|英語|理科|社会|
| ----- | ------ |-- | -- | --|----|-- |
|001|一抹太郎 | 15  | 20 | 30 | 40 | 50 |
|002|二審次郎 | 16  | 20 | 30 | 40 | 50 |
|003|三振三郎 | 17  | 20 | 30 | 40 | 50 |
|004|四面史郎 | 18  | 20 | 30 | 40 | 50 |

上のようにすると、学籍番号をキーにして、ふたつの表を関連付けることができます。

一例としては学籍番号「001」の学生は15歳で、国語の成績は15です。

プログラム的に見ると、「学生テーブルの学籍番号001の年齢」と「成績テーブルの学籍番号001の国語」を取得した形となります。

### 関係モデル
上の様な形で表と表に関連性を持たせた表(モデル)を「関係モデル」といい、そのようなデータベースを「リレーショナルデータベース」と呼びます。

そして、これらの表に行う操作の種類としては次のものがあります。

|名前|説明|
| -- |-- |
|挿入| テーブルにデータを挿入(INSERT)します|
|更新| テーブルのデータを更新(UPDATE)します|
|削除| テーブルのデータを削除(DELETE)します|

### データベースの概念設計
現場では、論理設計などと呼んだりします。具体的にはER図を作成しテーブル間のデータ関係を明確にします。

![ER図](https://lh3.googleusercontent.com/proxy/m0sKJSTSUG-btHtTdBDAaBAXINFPboOi0nsooD4H9czkg-RIL3DhKreaHZo5xfMXuFx9uvliAgsHAsmms3JmjBptyzj0l64F4EWFWl0gz1TdTIsVsw)
